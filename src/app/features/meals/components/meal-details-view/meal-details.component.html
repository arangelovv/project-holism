<div class="flex flex-col w-full h-full">
  <!-- Toolbar -->
  <app-meal-detail-toolbar
    [servingSize]="servingSize()"
    (servingSizeChange)="updateServingSize($event)"
  />

  <div class="flex flex-col gap-2 w-full h-full p-2">
    <!-- General Information Section -->
    <div class="flex flex-row">
      <span class="text-slate-800 text-base font-semibold grow">
        {{ mealDetails.mealName }}
      </span>
      <div class="flex flex-row items-center">
        <span class="material-symbols-outlined text-slate-500 text-base">
          timer
        </span>
        <span class="text-slate-500 text-xs font-semibold">{{
          mealDetails.mealPrepTime
        }}</span>
      </div>
    </div>
    <app-meal-tag [mealTag]="mealDetails.mealTag" />

    <!-- Ingridients Section -->
    <div class="py-2 border-t border-gray-300 grow 2xl:grow-0">
      <div class="flex flex-col gap-1 text-slate-800 font-semibold">
        @for (ingredient of adjustedIngredients(); track $index) {
        <span class="text-sm text-gray-700">
          {{ ingredient.ingridient }} - {{ ingredient.grams }}g
        </span>
        }
      </div>
    </div>

    <!-- Calories and Macronutrients Section -->
    <div
      class="flex flex-row justify-center pt-2 border-t border-gray-300 2xl:justify-start"
    >
      <div class="flex flex-row gap-2 text-slate-800 text-xs font-semibold">
        <div
          class="w-13 h-13 p-2 flex items-center justify-center border rounded-full border-indigo-400"
        >
          {{ adjustedCalories() }}
          Cals
        </div>
        <div
          class="w-13 h-13 p-2 flex items-center justify-center border rounded-full border-cyan-400"
        >
          {{ adjustedMacronutrients().protein }}g Protein
        </div>
        <div
          class="w-13 h-13 p-2 flex items-center justify-center border rounded-full border-emerald-400"
        >
          {{ adjustedMacronutrients().carbs }}g Carbs
        </div>
        <div
          class="w-13 h-13 p-2 flex items-center justify-center border rounded-full border-amber-400"
        >
          {{ adjustedMacronutrients().fats }}g Fats
        </div>
      </div>
    </div>
  </div>
</div>
